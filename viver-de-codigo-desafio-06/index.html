<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desafio 06</title>

    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/normalize.css">
    <link rel="icon" type="image/x-icon" href="assets/images/icon/relogio.ico">

</head>
<body>
    <div class="clock" id="relogio">00:00:00</div>
  <button class="toggle-btn" id="toggleFormato">Alternar para 12h</button>

  <script>
    let formato24h = localStorage.getItem('formato24h') === 'false' ? false : true;

    const relogio = document.getElementById('relogio');
    const toggleBtn = document.getElementById('toggleFormato');

    function formatar(num) {
      return num < 10 ? '0' + num : num;
    }

    function atualizarRelogio() {
      const agora = new Date();
      let horas = agora.getHours();
      const minutos = formatar(agora.getMinutes());
      const segundos = formatar(agora.getSeconds());
      let sufixo = '';

      if (!formato24h) {
        sufixo = horas >= 12 ? ' PM' : ' AM';
        horas = horas % 12 || 12; // transforma 0 em 12
      }

      relogio.textContent = `${formatar(horas)}:${minutos}:${segundos}${sufixo}`;
    }

    // Evento do botão para alternar o formato
    toggleBtn.addEventListener('click', () => {
      formato24h = !formato24h;
      localStorage.setItem('formato24h', formato24h);
      toggleBtn.textContent = formato24h ? 'Alternar para 12h' : 'Alternar para 24h';
      atualizarRelogio();
    });

    // Iniciar com base na preferência guardada
    toggleBtn.textContent = formato24h ? 'Alternar para 12h' : 'Alternar para 24h';
    atualizarRelogio();
    setInterval(atualizarRelogio, 1000);
  </script>
</body>
</html>